{
  "openapi":"3.0.0",
  "info":{
     "title":"Movie Service Documentation",
     "description":"This is an API MovieService",
     "version":"1.0.0",
     "contact":{
        "email":"israel@gmail.com"
     }
  },
  "paths":{
     "/api/movies":{
        "post":{
           "tags":[
              "Movies"
           ],
           "summary":"Create a Movie",
           "description":"Create a new Movie.",
           "requestBody":{
              "content":{
                 "application/json":{
                    "schema":{
                       "$ref":"#/definitions/CreateMovie"
                    }
                 }
              }
           },
           "responses":{
              "201":{
                 "description":"Created",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "$ref":"#/definitions/Movie"
                       }
                    }
                 }
              },
              "400":{
                 "description":"Movie already exists"
              }
           }
        },
        "get":{
           "tags":[
              "Movies"
           ],
           "summary":"List all Movie",
           "description":"List all movie.",
           "responses":{
              "200":{
                 "description":"Ok",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"array",
                          "$ref":"#/definitions/Movie"
                       }
                    }
                 }
              }
           }
        }
     },
     "/api/movies/{id}":{
        "get":{
           "tags":[
              "Movies"
           ],
           "summary":"List Movie by ID",
           "description":"List movie by ID",
           "parameters":[
              {
                 "name":"id",
                 "in":"path",
                 "description":"Movie id",
                 "required":true,
                 "schema":{
                    "type":"string"
                 }
              }
           ],
           "responses":{
              "200":{
                 "description":"Ok",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"object",
                          "$ref":"#/definitions/Movie"
                       }
                    }
                 }
              },
              "400":{
                 "description":"Movie not found"
              }
           }
        }
     },
     "/api/movies/premieres":{
        "get":{
           "tags":[
              "Movies"
           ],
           "summary":"List Movie Premiere",
           "description":"List of movies on release",
           "responses":{
              "200":{
                 "description":"Ok",
                 "content":{
                    "application/json":{
                       "schema":{
                          "type":"array",
                          "$ref":"#/definitions/Movie"
                       }
                    }
                 }
              }
           }
        }
     }
  },
  "definitions":{
     "CreateMovie":{
        "type":"object",
        "properties":{
           "name":{
              "type":"string"
           },
           "sinopsis":{
              "type":"string"
           },
           "duration":{
              "type":"number"
           },
           "release_date":{
              "type":"date",
              "pattern":"/([0-9]{4})-(?:[0-9]{2})-([0-9]{2})/",
              "example":"2019-05-17"
           },
           "categories":{
              "type":"array",
              "items":{
                 "type":"string"
              }
           }
        }
     },
     "Movie":{
        "type":"object",
        "properties":{
           "id":{
              "type":"string"
           },
           "name":{
              "type":"string"
           },
           "sinopsis":{
              "type":"string"
           },
           "duration":{
              "type":"number"
           },
           "release_date":{
              "type":"date",
              "pattern":"/([0-9]{4})-(?:[0-9]{2})-([0-9]{2})/",
              "example":"2019-05-17"
           },
           "categories":{
              "type":"array",
              "items":{
                 "type":"string"
              }
           }
        }
     }
  }
}